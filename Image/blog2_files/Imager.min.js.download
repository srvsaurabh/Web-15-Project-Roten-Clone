!function(e,t){"use strict";var i,n;function s(e,t){var n=this;t=t||{},this.elements=e||".js-responsive-image",this.className=t.className||"js-responsive-image-replaced",this.onResize=!t.hasOwnProperty("onResize")||t.onResize,this.onImagesReplaced=t.onImagesReplaced||function(){},this.eles=$(e),i(function(){n.init()})}i=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},n=t.addEventListener?function(e,t,i){return e.addEventListener(t,i,!1)}:function(e,t,i){return e.attachEvent("on"+t,i)},s.prototype.init=function(){this.checkImagesNeedReplacing(this.eles),this.onResize&&this.registerResizeEvent()},s.prototype.checkImagesNeedReplacing=function(e){var t=this;this.isResizing||(this.isResizing=!0,e.each(function(){t.replaceImagesBasedOnScreenDimensions(this)}),this.isResizing=!1,this.onImagesReplaced(e))},s.prototype.replaceImagesBasedOnScreenDimensions=function(t){var i,n,a=[];if(null!=$(t).attr("data-media")){var o=$(t).attr("data-media");$(t).removeAttr("data-media"),o=JSON.parse(o),$.each(o,function(e,t){a.push(parseInt(e))}),$(t).data("width",a),$(t).data("media",o)}i=$(t).data("media"),n=s.getClosestValue(e.innerWidth,$.extend([],$(t).data("width"))),t.src!=i[n]&&(t.src=i[n])},s.getClosestValue=function e(t,i){return t>=i[0]&&i.length>1&&(i.shift(),e(t,i)),i[0]},s.prototype.registerResizeEvent=function(){var t=this;n(e,"resize",function(){t.checkImagesNeedReplacing(t.eles)})},"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=s:"function"==typeof define&&define.amd?define(function(){return s}):"object"==typeof e&&(e.Imager=s)}(window,document);